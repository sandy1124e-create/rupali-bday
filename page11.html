<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Firecracker</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    background: radial-gradient(circle at bottom, #020218 0%, #000000 90%);
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    flex-direction: column;
    font-family: 'Comic Sans MS', cursive;
    color: white;
  }
  .sky {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
  }
  .rocket {
    width: 30px;
    height: 100px;
    background: linear-gradient(to top, red, orange);
    border-radius: 10px;
    position: absolute;
    bottom: 60px;
    left: 50%;
    transform: translateX(-50%);
  }
  .matchstick {
    width: 60px;
    height: 6px;
    background: #b87333;
    position: absolute;
    bottom: 70px;
    left: calc(50% + 70px);
    border-radius: 3px;
    transform-origin: left;
  }
  .flame {
    width: 10px;
    height: 10px;
    background: radial-gradient(circle, yellow 0%, red 70%);
    border-radius: 50%;
    position: absolute;
    right: 0;
    top: -2px;
    display: none;
  }
  .fire-button {
    margin-bottom: 40px;
    padding: 12px 30px;
    font-size: 20px;
    background: crimson;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    z-index: 10;
    box-shadow: 0 0 10px crimson;
  }
  .fire-button:hover {
    background: red;
  }
  .message {
    position: absolute;
    top: 25%;
    width: 100%;
    text-align: center;
    font-size: 3rem;
    color: #ffd700;
    text-shadow: 0 0 15px #ff0000, 0 0 30px #ff00ff;
  }
  .word {
    opacity: 0;
    transition: opacity 1s ease-in;
  }
  .next-button {
    position: absolute;
    bottom: 20px;
    padding: 12px 25px;
    background: gold;
    color: black;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    display: none;
    cursor: pointer;
    animation: glow 1.5s infinite alternate;
  }
  @keyframes glow {
    from { box-shadow: 0 0 10px gold; }
    to { box-shadow: 0 0 25px yellow; }
  }
  @keyframes fly {
    0% { transform: translate(-50%, 0); }
    100% { transform: translate(-50%, -80vh); }
  }
</style>
</head>
<body>
<div class="sky"></div>
<div class="rocket" id="rocket"></div>
<div class="matchstick" id="matchstick">
  <div class="flame" id="flame"></div>
</div>
<div class="message" id="message">
  <div id="word1" class="word">HAPPY</div>
  <div id="word2" class="word">BIRTHDAY</div>
  <div id="word3" class="word">RUPALIII DEVIIII ðŸ’–</div>
</div>
<button class="fire-button" id="fireBtn">FIRE!</button>
<button class="next-button" id="nextBtn" onclick="window.location.href='page12.html'">Next Page â†’</button>

<audio id="boomSound" src="https://cdn.pixabay.com/audio/2021/08/04/audio_4f5a9cfbb3.mp3"></audio>

<script>
  // Create night sky stars
  const sky = document.querySelector('.sky');
  for (let i = 0; i < 100; i++) {
    const star = document.createElement('div');
    star.classList.add('star');
    star.style.top = Math.random() * 100 + '%';
    star.style.left = Math.random() * 100 + '%';
    star.style.opacity = Math.random();
    sky.appendChild(star);
  }

  const rocket = document.getElementById('rocket');
  const fireBtn = document.getElementById('fireBtn');
  const matchstick = document.getElementById('matchstick');
  const flame = document.getElementById('flame');
  const boomSound = document.getElementById('boomSound');
  const nextBtn = document.getElementById('nextBtn');
  const words = [
    document.getElementById('word1'),
    document.getElementById('word2'),
    document.getElementById('word3')
  ];

  let textIndex = 0;

  function explode() {
    boomSound.currentTime = 0;
    boomSound.play();

    for (let i = 0; i < 70; i++) {
      const particle = document.createElement('div');
      particle.style.position = 'absolute';
      particle.style.width = '6px';
      particle.style.height = '6px';
      particle.style.borderRadius = '50%';
      particle.style.background = `hsl(${Math.random() * 360}, 100%, 60%)`;
      particle.style.left = '50%';
      particle.style.top = '20%';
      sky.appendChild(particle);

      const angle = Math.random() * 2 * Math.PI;
      const radius = Math.random() * 150 + 50;
      const x = Math.cos(angle) * radius;
      const y = Math.sin(angle) * radius;

      particle.animate([
        { transform: 'translate(0, 0)', opacity: 1 },
        { transform: `translate(${x}px, ${y}px)`, opacity: 0 }
      ], { duration: 2000, easing: 'ease-out', fill: 'forwards' });

      setTimeout(() => particle.remove(), 2000);
    }

    // Show next word and keep the previous ones
    words[textIndex].style.opacity = 1;

    textIndex++;
    if (textIndex < words.length) {
      setTimeout(explode, 3000);
    } else {
      // Show next button 3 sec after final explosion
      setTimeout(() => nextBtn.style.display = "block", 3000);
    }
  }

  fireBtn.addEventListener('click', () => {
    fireBtn.style.display = 'none';

    const move = matchstick.animate([
      { transform: 'translateX(0)' },
      { transform: 'translateX(-70px)' }
    ], { duration: 1500, fill: 'forwards' });

    flame.style.display = 'block';
    flame.animate([{ opacity: 0.5 }, { opacity: 1 }, { opacity: 0 }], { duration: 1500 });

    move.onfinish = () => {
      rocket.style.animation = 'fly 2s linear forwards';
      setTimeout(() => {
        rocket.style.display = 'none';
        explode();
      }, 2000);
    };
  });
</script>
</body>
</html>
